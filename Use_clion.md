## Clion 控制台无法使用^D中止输入

按下`ctrl+shift+a`,搜索Registry，取消勾选第二个，即可正常运行：

CLion 的这个注册表项：

```
run.processes.with.pty
```

**作用**

- 这个选项控制 CLion（或 JetBrains 系列 IDE）在运行程序时，是否通过 **PTY**（Pseudo-Terminal，伪终端）来启动运行的进程。
- **开启（勾选）时**
  - IDE 会为你启动的程序分配一个伪终端，这样程序会认为自己运行在交互式终端中。
  - 好处：一些依赖终端特性的程序（比如彩色输出、交互式输入、`ncurses` UI 程序）可以正常运行。
  - 可能的副作用：在 Windows 下，有时会出现运行缓慢、输入输出阻塞等问题，因为 PTY 模拟在 Windows 上不够稳定。
- **关闭（不勾选）时**
  - 程序会被直接运行，不附加伪终端。
  - 好处：更稳定、更接近直接执行可执行文件的方式，尤其是在 Windows 上。
  - 缺点：依赖交互式终端检测（`isatty` 等）的程序可能认为自己不是在终端里运行，从而关闭彩色输出或交互功能。

------

**是否会有不好的影响**

- **大多数普通 C++ 程序** → 关闭没有问题，甚至更稳定。
- **依赖终端特性（彩色输出、交互输入、`ncurses`）的程序** → 关闭可能导致这些功能失效或表现不同。
- **在 Windows 上** → JetBrains 官方文档建议默认关闭，因为 PTY 支持并不完善。

------

